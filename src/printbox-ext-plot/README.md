# PrintBox extension for rendering plots over a 2D canvas

See https://ocaml.org/p/printbox-ext-plot/latest/doc/PrintBox_ext_plot/index.html ([source](PrintBox_ext_plot.mli)).

## Example: Map, Scatterbag

[Source.](../../test/plotting.ml)

The `specs` of this graph:

```ocaml
Scatterbag
    { points = [| ((0., 1.), B.line "Y"); ((1., 0.), B.line "X"); ((0.75, 0.75), B.line "M") |] };
Map { callback = (fun (x, y) ->
          let s = ((x ** 2.) +. (y ** 2.)) ** 0.5 in
          B.line @@
          if s < 0.3 then " "
          else if s < 0.6 then "."
          else if s < 0.9 then ","
          else if s < 1.2 then ":"
          else ";"); }
```

Text rendering:

```verbatim
â”Œâ”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1â”‚Y:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;â”‚
â”‚  â”‚::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;â”‚
â”‚  â”‚:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::;;;;;;;;;;;;;;;;;;;;;;;;;;;â”‚
â”‚  â”‚::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::;;;;;;;;;;;;;;;;;;;;;;;;â”‚
â”‚  â”‚,,,,,,,::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::;;;;;;;;;;;;;;;;;;;;;â”‚
â”‚  â”‚,,,,,,,,,,,,,,,,,,,,,,,:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::;;;;;;;;;;;;;;;;;;â”‚
â”‚  â”‚,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,::::::::::::::::::::::::::::::::::::::::::::::::::::::;;;;;;;;;;;;;;;â”‚
â”‚  â”‚,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,::::::::::::::::::::::::::::::::::::::::::::::::::;;;;;;;;;;;;;â”‚
â”‚  â”‚,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,:::::::::::::::::::::::::::::::::::::::::::::::;;;;;;;;;;;â”‚
â”‚  â”‚,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,:::::::::::::::::::::::::::::::::::::::::::::;;;;;;;;â”‚
â”‚  â”‚,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,:::::::::::::::::::::::M:::::::::::::::::::;;;;;;â”‚
â”‚  â”‚,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,::::::::::::::::::::::::::::::::::::::::::;;;;â”‚
â”‚  â”‚,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,:::::::::::::::::::::::::::::::::::::::::;;â”‚
â”‚  â”‚,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,:::::::::::::::::::::::::::::::::::::::;â”‚
â”‚  â”‚,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,:::::::::::::::::::::::::::::::::::::â”‚
â”‚  â”‚,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,::::::::::::::::::::::::::::::::::â”‚
â”‚  â”‚...........,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,::::::::::::::::::::::::::::::::â”‚
â”‚  â”‚.....................,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,::::::::::::::::::::::::::::::â”‚
â”‚  â”‚...........................,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,::::::::::::::::::::::::::::â”‚
â”‚y â”‚...............................,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,::::::::::::::::::::::::::â”‚
â”‚  â”‚...................................,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,:::::::::::::::::::::::::â”‚
â”‚  â”‚......................................,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,:::::::::::::::::::::::â”‚
â”‚  â”‚.........................................,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,::::::::::::::::::::::â”‚
â”‚  â”‚............................................,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,::::::::::::::::::::â”‚
â”‚  â”‚..............................................,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,:::::::::::::::::::â”‚
â”‚  â”‚................................................,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,::::::::::::::::::â”‚
â”‚  â”‚..................................................,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,:::::::::::::::::â”‚
â”‚  â”‚...................................................,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,::::::::::::::::â”‚
â”‚  â”‚           ..........................................,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,:::::::::::::::â”‚
â”‚  â”‚                ......................................,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,::::::::::::::â”‚
â”‚  â”‚                   ....................................,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,:::::::::::::â”‚
â”‚  â”‚                      ..................................,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,:::::::::::::â”‚
â”‚  â”‚                        .................................,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,::::::::::::â”‚
â”‚  â”‚                          ................................,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,::::::::::::â”‚
â”‚  â”‚                           ................................,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,:::::::::::â”‚
â”‚  â”‚                            ...............................,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,:::::::::::â”‚
â”‚  â”‚                             ..............................,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,:::::::::::â”‚
â”‚  â”‚                              ..............................,,,,,,,,,,,,,,,,,,,,,,,,,,,,,:::::::::::â”‚
â”‚  â”‚                              ..............................,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,::::::::::â”‚
â”‚ 0â”‚                              ..............................,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,:::::::::Xâ”‚
â”œâ”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”‚0                                                                                                  1â”‚
â”‚  â”‚                                                 x                                                  â”‚
â””â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

HTML rendering image:
![A plot as above rendered with a white background](../../docs/printbox-ext-plot-example_Map.png)

## Example: Line_plot_adaptive, Boundary_map

[Source.](../../test/plotting_linear.ml)

The `specs` of this graph:

```ocaml
Line_plot_adaptive
  { callback = (fun x -> sin x); content = B.line "#"; cache = Hashtbl.create 20 };
Line_plot_adaptive
  { callback = (fun x -> x ** 2.); content = B.line "%"; cache = Hashtbl.create 20 };
Boundary_map
  { content_false = B.line "."; content_true = B.line ","; callback = (fun (x, y) -> x > y) }
```

Text rendering:

```verbatim
â”Œâ”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1â”‚...................................................................................................%â”‚
â”‚  â”‚.................................................................................................,%,â”‚
â”‚  â”‚..............................................................................................,,,%,,â”‚
â”‚  â”‚............................................................................................,,,,%,,,â”‚
â”‚  â”‚.........................................................................................,,,,,%%,,,,â”‚
â”‚  â”‚.......................................................................................,,,,,,%,,,,,,â”‚
â”‚  â”‚....................................................................................,,,,,,,,%,,,,,,,â”‚
â”‚  â”‚..................................................................................,,,,,,,,%%,,,,####â”‚
â”‚  â”‚...............................................................................,,,,,,,,,,%,#####,,,,â”‚
â”‚  â”‚.............................................................................,,,,,,,,,,####,,,,,,,,,â”‚
â”‚  â”‚..........................................................................,,,,,,,,,,###,,,,,,,,,,,,,â”‚
â”‚  â”‚........................................................................,,,,,,,,####%%,,,,,,,,,,,,,,â”‚
â”‚  â”‚.....................................................................,,,,,,,####,,,%,,,,,,,,,,,,,,,,â”‚
â”‚  â”‚...................................................................,,,,,,###,,,,,%%,,,,,,,,,,,,,,,,,â”‚
â”‚  â”‚................................................................,,,,,####,,,,,,,%,,,,,,,,,,,,,,,,,,,â”‚
â”‚  â”‚.............................................................,,,,,###,,,,,,,,,%%,,,,,,,,,,,,,,,,,,,,â”‚
â”‚  â”‚...........................................................,,,,###,,,,,,,,,,,%,,,,,,,,,,,,,,,,,,,,,,â”‚
â”‚  â”‚........................................................,,,,###,,,,,,,,,,,,%%,,,,,,,,,,,,,,,,,,,,,,,â”‚
â”‚  â”‚......................................................,,,###,,,,,,,,,,,,,%%,,,,,,,,,,,,,,,,,,,,,,,,,â”‚
â”‚y â”‚...................................................,,,###,,,,,,,,,,,,,,%%,,,,,,,,,,,,,,,,,,,,,,,,,,,â”‚
â”‚  â”‚.................................................,,###,,,,,,,,,,,,,,,,%,,,,,,,,,,,,,,,,,,,,,,,,,,,,,â”‚
â”‚  â”‚..............................................,,###,,,,,,,,,,,,,,,,,%%,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,â”‚
â”‚  â”‚............................................,###,,,,,,,,,,,,,,,,,,%%,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,â”‚
â”‚  â”‚.........................................,###,,,,,,,,,,,,,,,,,,,%%,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,â”‚
â”‚  â”‚.......................................,##,,,,,,,,,,,,,,,,,,,,%%,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,â”‚
â”‚  â”‚....................................,###,,,,,,,,,,,,,,,,,,,,%%,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,â”‚
â”‚  â”‚..................................###,,,,,,,,,,,,,,,,,,,,,%%,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,â”‚
â”‚  â”‚...............................###,,,,,,,,,,,,,,,,,,,,,%%%,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,â”‚
â”‚  â”‚............................,##,,,,,,,,,,,,,,,,,,,,,,%%,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,â”‚
â”‚  â”‚..........................###,,,,,,,,,,,,,,,,,,,,,,%%,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,â”‚
â”‚  â”‚.......................,##,,,,,,,,,,,,,,,,,,,,,,%%%,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,â”‚
â”‚  â”‚.....................###,,,,,,,,,,,,,,,,,,,,,%%%,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,â”‚
â”‚  â”‚..................###,,,,,,,,,,,,,,,,,,,,,%%%,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,â”‚
â”‚  â”‚................##,,,,,,,,,,,,,,,,,,,,,%%%,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,â”‚
â”‚  â”‚.............###,,,,,,,,,,,,,,,,,,,,%%%,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,â”‚
â”‚  â”‚...........##,,,,,,,,,,,,,,,,,,,%%%%,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,â”‚
â”‚  â”‚........###,,,,,,,,,,,,,,,,,%%%%,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,â”‚
â”‚  â”‚......##,,,,,,,,,,,,,,,%%%%%,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,â”‚
â”‚  â”‚...###,,,,,,,,,,%%%%%%%,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,â”‚
â”‚ 0â”‚###%%%%%%%%%%%%%,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,â”‚
â”œâ”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”‚0                                                                                                  1â”‚
â”‚  â”‚                                                 x                                                  â”‚
â””â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

HTML rendering image:
![A plot as above rendered with a white background](../../docs/printbox-ext-plot-example_linear.png)

### Example: nested boxes

[Source.](../../test/plotting_nested.ml)

The `specs` of this graph:

```ocaml
Scatterbag { points = [| ((0.06, 0.95), reg_45); ((0.3, 0.3), reg_45) |] };
Scatterbag {
    points = [|
        ((0., 1.), nice_unicode);
        ((0.08, 0.9), nice_unicode);
        ((1., 0.), for_3);
        ((0.3, 0.3), nice_unicode);
        ((0.75, 0.75), nice_unicode);
        ((0.8, 0.8), nice_unicode); |]; };
Map {
    callback = (fun (x, y) ->
        let s = ((x ** 2.) +. (y ** 2.)) ** 0.5 in
        B.line
        @@
        if s < 0.3 then " "
        else if s < 0.6 then "."
        else if s < 0.9 then ","
        else if s < 1.2 then ":"
        else ";"); }
```

Text rendering:

```verbatim
â”Œâ”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”::::::::::::::::::::::::::::;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; â”‚
â”‚  â”‚â”‚nice unicode! ğŸ’ª                    â”‚:::::::::::::::::::::::::::::::::;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;â”‚
â”‚  â”‚â”œâ”€â”€â”€â”€â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤:::::::::::::::::::::::::::::::::::;;;;;;;;;;;;;;;;;;;;;;;;;;; â”‚
â”‚  â”‚â”‚â”Œâ”€â”€â”€â”‚123456789â”‚â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚::::::::::::::::::::::::::::::::::::::;;;;;;;;;;;;;;;;;;;;;;;; â”‚
â”‚  â”‚â”‚â”‚oÃ¯ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”::::::::::::::::::::::::::::::::::;;;;;;;;;;;;;;;;;;;;; â”‚
â”‚  â”‚â”‚â”‚Ï€/2â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”â”‚code! ğŸ’ª                    â”‚::::::::::::::::::::::::::::::::::::::;;;;;;;;;;;;;;;;;;â”‚
â”‚  â”‚â”‚â”‚Ï„/4â”‚â”‚   ....â”‚â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤::::::::::::::::::::::::::::::::::::::::;;;;;;;;;;;;;;; â”‚
â”‚  â”‚â”‚â”œâ”€â”€â”€â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”¤â”‚â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚::::::::::::::::::::::::::::::::::::::::::;;;;;;;;;;;;; â”‚
â”‚  â”‚â”‚â”‚   â”‚â”‚.      â”‚â”‚d nums:â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚::::::::::::::::::::::::::::::::::â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  â”‚â”‚â”‚   â”‚â””â”€â”€â”€â”€â”€â”€â”€â”˜â”‚       â”‚â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”‚,,::::::::::::::::::::::::::::::::â”‚nice unicode! ğŸ’ª     â”‚
â”‚  â”‚â”‚â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚â”‚â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”‚â”‚,,,,,,:::::::::::::::::::::::â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  â”‚â”‚â”‚   â”œâ”€â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚â”‚â”‚sum=Î£_i aÂ·xáµ¢Â²â”‚â”‚â”‚â”‚â”‚,,,,,,,,,::::::::::::::::::::â”‚nice unicode! ğŸ’ª          â”‚
â”‚  â”‚â”‚â”‚   â””â”€â”‚â”‚              â”‚â”‚â”‚â”‚â€”â€”â€”â€”â€”        â”‚â”‚â”‚â”‚â”‚,,,,,,,,,,,,:::::::::::::::::â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  â”‚â”‚â”‚     â”‚â”‚              â”‚â”‚â”‚â”‚1+1          â”‚â”‚â”‚â”‚â”‚,,,,,,,,,,,,,,,::::::::::::::â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  â”‚â”‚â”‚     â”‚â”‚   0          â”‚â”‚â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚â”‚â”‚â”‚,,,,,,,,,,,,,,,,,,:::::::::::â”‚â”‚oÃ¯ Ï‰Îµird nums:â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  â”‚â”‚â”‚     â”‚â”‚   â”œâ”€1        â”‚â”‚â”‚â”‚           ÅŒâ‚’â”‚â”‚â”‚â”‚â”‚,,,,,,,,,,,,,,,,,,,,,::::::::â”‚â”‚Ï€/2           â”‚â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  â”‚â”‚â””â”€â”€â”€â”€â”€â”‚â”‚   â””â”€Ï‰        â”‚â”‚â”‚â”‚           Ã€ â”‚â”‚â”‚â”‚â”‚,,,,,,,,,,,,,,,,,,,,,,,::::::â”‚â”‚Ï„/4           â”‚â”‚â”‚â”Œâ”€â”€â”€â”€â”€â”€ â”‚
â”‚  â”‚â””â”€â”€â”€â”€â”€â”€â”‚â”‚     â””â”€Ï‰Â²     â”‚â”‚â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â”‚â”‚,,,,,,,,,,,,,,,,,,,,,,,,,::::â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚â”‚â”‚sum=Î£_ â”‚
â”‚  â”‚.......â”‚â”‚              â”‚â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â”‚,,,,,,,,,,,,,,,,,,,,,,,,,,,::â”‚â”‚              â”‚â”‚â”‚â”‚â€”â€”â€”â€”â€”  â”‚
â”‚y â”‚.......â”‚â”‚              â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚,,,,,,,,,,,,,,,,,,,,,,,,,,,,,â”‚â”‚              â”‚â”‚â”‚â”‚1+1    â”‚
â”‚  â”‚.......â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚,,,,,,,,,,,,,,,,,,,,,,,,,,,,,â”‚â”‚   0          â”‚â”‚â”‚â”œâ”€â”€â”€â”€â”€â”€ â”‚
â”‚  â”‚.......â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜,,,,,,,,,,,,,,,,,,,,,,,,,,,,,â”‚â”‚   â”œâ”€1        â”‚â”‚â”‚â”‚       â”‚
â”‚  â”‚.........................................,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,â”‚â”‚   â””â”€Ï‰        â”‚â”‚â”‚â”‚       â”‚
â”‚  â”‚............................................,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,â”‚â”‚     â””â”€Ï‰Â²     â”‚â”‚â”‚â””â”€â”€â”€â”€â”€â”€ â”‚
â”‚  â”‚..............................................,,,,,,,,,,,,,,,,,,,,,,,,,,,,â”‚â”‚              â”‚â”‚â””â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  â”‚................................................,,,,,,,,,,,,,,,,,,,,,,,,,,â”‚â”‚              â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  â”‚..................................................,,,,,,,,,,,,,,,,,,,,,,,,â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  â”‚...................................................,,,,,,,,,,,,,,,,,,,,,,,â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  â”‚           ..................â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”,,,,,,,,,,,,,,,,,,::::::::::::::: â”‚
â”‚  â”‚                .............â”‚123456789â”‚de! ğŸ’ª                    â”‚,,,,,,,,,,,,,,,,,,,,::::::::::::::â”‚
â”‚  â”‚                   ..........â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤,,,,,,,,,,,,,,,,,,,,::::::::::::: â”‚
â”‚  â”‚                      .......â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”â”‚â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚,,,,,,,,,,,,,,,,,,,,::::::::::::: â”‚
â”‚  â”‚                        .....â”‚â”‚   ....â”‚â”‚nums:â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚,,,,,,,,,,,,,,,,,,,,,:::::::::::: â”‚
â”‚  â”‚                          ...â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”¤â”‚     â”‚â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”‚,,,,,,,,,,,,,,,,,,,,,:::::::::::: â”‚
â”‚  â”‚                           ..â”‚â”‚.      â”‚â”‚     â”‚â”‚â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”‚â”‚,,,,,,,,,,,,,,,,,,,,,,::::::::::: â”‚
â”‚  â”‚                            .â”‚â””â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”€â”€â”€â”€â”€â”¤â”‚â”‚â”‚sum=Î£_i aÂ·xáµ¢Â²â”‚â”‚â”‚â”‚â”‚,,,,,,,,,,,,,,,,,,,,,,::::::::::: â”‚
â”‚  â”‚                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚â”‚â”‚â”‚â€”â€”â€”â€”â€”        â”‚â”‚â”‚â”‚â”‚,,,,,,,,,,,,,,,,,,,,,,::::::::::: â”‚
â”‚  â”‚                             â”‚â”‚              â”‚â”‚â”‚â”‚1+1          â”‚â”‚â”‚â”‚â”‚,,,,,,,,,,,,,,,,,,,,,,::::::::::: â”‚
â”‚  â”‚                             â”‚â”‚   0          â”‚â”‚â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚â”‚â”‚â”‚,,,,,,,,,,,,,,,,,,,,,,,:::::::::: â”‚
â”‚ 0â”‚                             â”‚â”‚   â”œâ”€1        â”‚â”‚â”‚â”‚           ÅŒâ‚’â”‚â”‚â”‚â”‚â”‚,,,,,,,,,,,,,,,,,,,,,,,:::::::::( â”‚
â”œâ”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”‚0                                                                                                   1â”‚
â”‚  â”‚                                                  x                                                  â”‚
â””â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

HTML rendering image:
![A plot as above rendered with a white background](../../docs/printbox-ext-plot-example_nested.png)

## Example: Scatterplot

[Source.](../../test/plotting_nested.ml)

The `specs` of this graph:

```ocaml
Scatterplot { points = points1; content = B.line "#" };
Scatterplot { points = points2; content = B.line "%" };
Boundary_map { content_false = B.line "."; content_true = B.line ",";
               callback = fun (x, y) -> x > y }
```

Text rendering:

```verbatim
â”Œâ”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1.09  â”‚............................#.........................................,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,â”‚
â”‚       â”‚.............................##.#...##..##..........................,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,â”‚
â”‚       â”‚......................########.###..#.....#.##.....................,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,â”‚
â”‚       â”‚.....................#.#..####.#...#.#..##.#...#.....#...........,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,â”‚
â”‚       â”‚..............#....##########.##....####.#...#.##.#.............,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,â”‚
â”‚       â”‚.............#.#####.###.#.#.#.##....###..##.##..##............,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,â”‚
â”‚       â”‚.................#.#.#####.###...####..#..#.##.#.##.##.......,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,â”‚
â”‚       â”‚.........#....##..##.#..#..####.###......###..##.####.##.##.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,â”‚
â”‚       â”‚.........#.....#...###.##.##...#.#.#.#...#.....#.##.#####.,,#,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,â”‚
â”‚       â”‚..........###....#.#####.##.#..........#..#.....#####..###,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,â”‚
â”‚       â”‚.......#..#.#..#.#....#.....#................#..##...#.#,,#,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,â”‚
â”‚       â”‚......###.###..##.##..........................#....#..###,#,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,â”‚
â”‚       â”‚...#....#.###.##.##..........%.....................##,,#,#,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,â”‚
â”‚       â”‚......#######....#...................%%..........#.,,##,#,###,,,,,,,,,,,,,,,,,,,,,,,,,,,,%,,,,,%,,,,â”‚
â”‚       â”‚.##.##...##.#...##...............%...%............,,,,##,##,###,#,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,â”‚
â”‚       â”‚.#.#.#.###.##.##.................%%...%.........,,,,,,,,###,,,##,,#,,,,,,,,,,,,,,,,,,,,,,,,,%%%,%%,,â”‚
â”‚       â”‚.....#.#..##...................%..%%%%%........,,,,,,,,,###,###,#,,,,,,,,,,,,,,,,,,,,,,,%%,,,%%%%,,,â”‚
â”‚       â”‚#.##.###.#.#................%.%...%.%%%......,,,,,,,,,#,,,#,,,,#,,#,,,,,,,,,,,,,,,,,,,,%,,,%,,%,,,,,â”‚
â”‚       â”‚#####.#...##.................%..%.%.....%...,,,,,,,,,,,,,#,,##,###,##,,,,,,,,,,,,,,,,,%%%,,,,%%,%,%,â”‚
â”‚y      â”‚#.#.###.#.##.................%%.%.%%%..%...,,,,,,,,,,,,#,,,,,,,#,#,#,,,,,,,,,,,,,,,,,,%%,%,,,,,,%,%%â”‚
â”‚       â”‚##...###..#..................%%..%..%.%..,,,,,,,,,,,,,,,,##,,####,,,,#,,,,,,,,,,,,,,,%,,%,,,%,%,,%%,â”‚
â”‚       â”‚##......###..........................%%.%,%,,,,,,,,,,,,,,,,,,,,#,####,,,,,,,,,,,,,,,,,,,%%,,,,,%,%%,â”‚
â”‚       â”‚...#.#.###...................%..%%%%..%,,%,,,,,,,,,,,,,,,,##,,#######,,,,,,,,,,,,,,,,%%%,,,,,%,%,,,,â”‚
â”‚       â”‚......##.......................%...%.%%%,,,,,,,,,,,,,,,,,#,#,#,,,,,,#,,,,,,,,,,,,,,,,,,%,,%%,,,%%%,,â”‚
â”‚       â”‚....#..#...........................%,%,,%,,%,,,,,,,,,,,,,,,,#,,,,,,#,,,,,,,,,,,,,,,%,%%%%,,%%,,%,,,,â”‚
â”‚       â”‚........##.......................%,%%,,,%,%,,,,,,,,,,,,,,,,,,,#,,##,,,,,,,,,,,,,,,%%,,,%,,%%%,%,,,,,â”‚
â”‚       â”‚#.#............................%.,%,,%,,%%,,,,%%,,,,,,,,,#,,#,,,,,#,#,,,,,,,,,,,,,,,,%%%,%%,,,,,,,,,â”‚
â”‚       â”‚.#...#.........................,%%%,,%%%%%,%,,,,,,,,,,,,,,,,,#,,,,#,,,,,,,,,,%,,,,,%%%%,%,%,,,%,,,,,â”‚
â”‚       â”‚..............................,,,,,,,%,,%%%,,,%,%%%,%,,,,#,,,,,,,,,,,,,,,,,,,,%,%,,%,%%,%,%%,,%,,,,,â”‚
â”‚       â”‚............................,,,,,,%,%%%%%,%,%,%,%,,,,,,%,,,,,,,,,,,,,,,,,,,,,,%%,,%%,%,%,%,,,,%,,,,,â”‚
â”‚       â”‚...........................,,,,,,,,%,,,%%%%%,%%%,,,,,,,%,,,,,,,,,,,,,,,,%,%%,,%,%%%%%,%%,,,,,,,,,,,,â”‚
â”‚       â”‚.........................,,,,,,,,,,,,,,,,%,,,,,%%%%%,%,%,%%,,,,,,,,,,%,%%%%%%,%,,%,,,,,,,,,,,,,,,,,,â”‚
â”‚       â”‚........................,,,,,,,,,,,,%,,,%,%%,%,,,,,,,%,,%%,,%%,%,,,%%%%%%%,,%,%,%,,,,,%%,,,,,,,,,,,,â”‚
â”‚       â”‚.......................,,,,,,,,,,,,,,,%,,%,%%,%%%,,,,%,%%%,%%,,,%,%%,%,%,%%%,,%%%%%,,,,,,%,,,,,,,,,,â”‚
â”‚       â”‚.....................,,,,,,,,,,,,,,,,,,%%%%,%,,%,,,,,,,%%%,,%,,%%%%,%%,,,%,%,,%%,,%,,,,,,,,,,,,,,,,,â”‚
â”‚       â”‚....................,,,,,,,,,,,,,,,,,,,,,,,,,%,,%%,,%,%,%,%%,%%,,,%,,,%,%%,,,%%%,,,%%%,,,,,,,,,,,,,,â”‚
â”‚       â”‚..................,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,%,,%%%,,%%%%,,%%%%,,,%%,%%%%%,,,,,,%,,,,,,,,,,,,,,â”‚
â”‚       â”‚.................,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,%%%,,,,,,,,%%%%%%,%%,%,,%%,%,,,,%,,,,,,,,,,,,,,,,,,,â”‚
â”‚       â”‚...............,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,%,%%,%%%,%%%,,%%%%,,,%%,,,,,,,,,,,,,,,,,,,,,,,,,,â”‚
â”‚ -0.794â”‚..............,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,%,,,,,,%,,,,,%,,,%,,,,%%,,,,,,,,,,,,,,,,,,,,,,,,,â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚       â”‚-1.25                                                                                            2.1â”‚
â”‚       â”‚                                                 x                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

HTML rendering image:
![A plot as above rendered with a white background](../../docs/printbox-ext-plot-example_half_moons.png)
